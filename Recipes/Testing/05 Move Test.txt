# 05 Move Test
# BE CAREFUL: Robot will move and positions are expected to be OK

# Standard set_speeds with asserts to check correctness
old_speed = {robot_linear_speed_mmps}
set_linear_speed(201)
assert(robot_linear_speed_mmps,201)
set_linear_speed({old_speed})
assert(robot_linear_speed_mmps,{old_speed})

# Grind set_speeds with asserts to check correctness
old_speed = {grind_trial_speed_mmps}
grind_trial_speed(18)
assert(grind_trial_speed_mmps,18)
grind_trial_speed({old_speed})
assert(grind_trial_speed_mmps,{old_speed})

select_tool(pen_SA)
set_part_geometry(FLAT,0)
move_linear(demo_safe)
move_linear(demo_safee) # should fail

move_joint(demo_flat)
move_joint(demo_flatt) # should fail

save_position(p1)
save_position() # should fail
move_linear(p1)

# Test move relative with different geometries
dist = 25
set_part_geometry(FLAT,0)
move_relative(26,{dist}) # should fail
move_relative({dist},{dist})
move_relative({dist},-{dist})
move_relative(-{dist},{dist})
move_relative(-{dist},-{dist})
set_part_geometry(CYLINDER,1000)
move_relative({dist},{dist})
move_relative({dist},-{dist})
move_relative(-{dist},{dist})
move_relative(-{dist},-{dist})
set_part_geometry(SPHERE,1200)
move_relative({dist},{dist})
move_relative({dist},-{dist})
move_relative(-{dist},{dist})
move_relative(-{dist},-{dist})
sleep(2)

move_tool_home()
move_tool_mount()

move_linear(p1)

